machine:
  java:
      version: openjdk7
  environment:
      GRADLE_OPTS: -Xmx512m -XX:MaxPermSize=512m

dependencies:
  pre:
    - echo y | android update sdk --no-ui --all --filter extra-android-m2repository,extra-android-support
    - chmod +x gradlew
  cache_directories:
    - ~/.android
    - ~/.gradle

  override:
    - ./gradlew dependencies

test:
  override:
    - ./gradlew test -PdisablePreDex --stacktrace;

general:
  artifacts:
    - "**/build/outputs/apk"
    - "**/build/outputs/mapping/**/**/mapping.txt"
